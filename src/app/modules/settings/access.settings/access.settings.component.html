<haniot-card [title]="'CONFIG.CONFIG-ACCESS-TITLE' | translate"
             [subtitle]="'CONFIG.CONFIG-ACCESS-SUBTITLE' | translate">
    <form [formGroup]="passwordForm" (ngSubmit)="onChangePassword(passwordForm)">

        <div class="form-group has-feedback" [ngClass]="{'has-success': passwordForm.controls.old_password.valid,
                      'has-error': passwordForm.controls.old_password.invalid && (passwordForm.controls.old_password.touched || passwordForm.controls.old_password.dirty)}">
            <label for="old_password">{{'SHARED.PASSWORD-OLD' | translate}}:</label>
            <div>
                <input [type]="typeInputPassword" class="form-control" id="old_password" required minlength="4"
                       name="old_password" formControlName="old_password">
                <i class="material-icons icon_password" (click)="clickVisibilityPassword()">{{icon_password}}</i>
            </div>

            <span *ngIf="passwordForm.controls.old_password.valid" class="glyphicon glyphicon-ok form-control-feedback"
                  aria-hidden="true"></span>
            <span *ngIf="passwordForm.controls.old_password.invalid && (passwordForm.controls.old_password.touched || passwordForm.controls.old_password.dirty)">
        <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
        <span class="text-danger">{{'SHARED.INCORRECT-PASSWORD' | translate}}.</span>
      </span>
        </div>

        <div class="form-group has-feedback" [ngClass]="{'has-success': passwordForm.controls.new_password.valid,
                      'has-error': passwordForm.controls.new_password.invalid && (passwordForm.controls.new_password.touched || passwordForm.controls.new_password.dirty)}">
            <label for="new_password">{{'SHARED.PASSWORD-NEW' | translate}}:</label>
            <div>
                <input [type]="typeInputPassword_confirm" class="form-control" id="new_password" required minlength="6"
                       name="new_password"
                       formControlName="new_password" (keyup)="validatePassword()">
                <i class="material-icons icon_password"
                   (click)="clickVisibilityPasswordConfirm()">{{icon_password_confirm}}</i>
            </div>

            <span *ngIf="passwordForm.controls.new_password.valid" class="glyphicon glyphicon-ok form-control-feedback"
                  aria-hidden="true"></span>
            <span *ngIf="passwordForm.controls.new_password.invalid && (passwordForm.controls.new_password.touched || passwordForm.controls.new_password.dirty) || !passwordIsValid">
        <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
        <span class="text-danger">{{'SHARED.PASSWORD-RULES-MESSAGE' | translate}}.</span>
      </span>
        </div>


        <div class="row container-fluid">
            <div class="col-md">
                <button type="submit" class="btn btn-haniot-primary"
                        [disabled]="!passwordForm.valid || !passwordIsValid">
                    {{'SHARED.CHANGE-PASSWORD' | translate}}
                </button>
            </div>
        </div>
    </form>
</haniot-card>
